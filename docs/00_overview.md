# 전체 아키텍처 개요

## 목표
- 오프라인에서 수년치 데이터를 이용해 **돈 버는 로직(모델/전략)을 제조**
- 런타임에서 **승격된 모델을 로드**해 안정적으로 거래
- 운영에서 **드리프트/성능 붕괴를 감지**하고 CT(Continuous Training)로 회복

## 오프라인 vs 런타임
### 오프라인(Design-Time)
- 핵심: 재현성, 데이터 정합성, 실험 추적
- 처리: 배치 중심(Spark), 대규모 실험 병렬(Ray)
- 산출물: 모델/전략/승격 리포트/라인리지(MLflow)

### 런타임(Runtime)
- 핵심: 안정성, 리스크 게이트, 관측성
- 처리: 분봉/피처 계산(짧은 윈도우), 저지연 캐시(Redis)
- 관측: ClickHouse(피처/예측/주문/체결/리스크/PNL), 대시보드/알림

## 왜 ClickHouse인가(우리 전제)
- 분단위 전략에서는 “상시 초저지연 실시간 OLAP 엔진”까지는 과투자일 수 있음
- 하지만 운영 관측/감사/원인분석/드리프트 집계는 매우 자주 필요
- ClickHouse는 ad-hoc SQL + 고속 집계에 강해 “운영 블랙박스 DB”로 적합

## Mermaid
- `diagrams/` 참고
